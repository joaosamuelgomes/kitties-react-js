import React from 'react';
import styles from './Loading.module.css';

const Loading = () => {
  const [step, setStep] = React.useState(0);

  React.useEffect(() => {
    function updateStep() {
      setStep((step) => {
        if (step < 3) return step + 1;
        else return 0;
      });
    }
    const interval = setInterval(updateStep, 300);
    return () => {
      clearInterval(interval);
    };
  }, []);

  function displayStep(i) {
    return {
      display: step === i ? 'block' : 'none',
    };
  }

  return (
    <div className={styles.wrapper}>
      <div className={styles.loading}>
        <svg
          width="46"
          height="31"
          viewBox="0 0 46 31"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g style={displayStep(0)}>
              <ellipse 
              fillRule="evenodd"
              clipRule="evenodd"
              cx="14.9632" cy="14.5" rx="14" ry="11.5" fill="#1D1A05"/>
              <path d="M10.9632 12.6667C10.9632 13.7712 9.10259 14 7.62983 14C6.15707 14 4.96317 13.1046 4.96317 12C4.96317 10.8954 6.15707 10 7.62983 10C9.10259 10 10.9632 11.5621 10.9632 12.6667Z" fill="white"/>
              <path d="M17.9632 12.6667C17.9632 13.7712 19.8237 14 21.2965 14C22.7693 14 23.9632 13.1046 23.9632 12C23.9632 10.8954 22.7693 10 21.2965 10C19.8237 10 17.9632 11.5621 17.9632 12.6667Z" fill="white"/>
              <path d="M15.7741 19.8764C15.3749 20.4295 14.5514 20.4295 14.1523 19.8764L11.7771 16.5852C11.2998 15.9238 11.7723 15 12.5879 15H17.3384C18.154 15 18.6266 15.9238 18.1493 16.5852L15.7741 19.8764Z" fill="#E6AAD3"/>
              <path d="M0.545256 3.14323C0.411582 2.38512 1.14871 1.7666 1.87208 2.02989L9.75972 4.90075C10.4831 5.16404 10.6502 6.11167 10.0605 6.60649L3.63043 12.002C3.04073 12.4968 2.13651 12.1677 2.00283 11.4096L0.545256 3.14323Z" fill="#1D1A05"/>
              <path d="M27.3813 0.993045C28.1047 0.729758 28.8418 1.34828 28.7082 2.10639L27.2506 10.3727C27.1169 11.1308 26.2127 11.4599 25.623 10.9651L19.1929 5.56965C18.6032 5.07483 18.7703 4.1272 19.4937 3.86391L27.3813 0.993045Z" fill="#1D1A05"/>
          </g>
          <g style={displayStep(1)}>
              <ellipse
              fillRule="evenodd"
              clipRule="evenodd"
              cx="16.9632" cy="15.5" rx="14" ry="11.5" fill="#1D1A05"/>
              <path d="M12.9632 13.6667C12.9632 14.7712 11.1026 15 9.62983 15C8.15707 15 6.96317 14.1046 6.96317 13C6.96317 11.8954 8.15707 11 9.62983 11C11.1026 11 12.9632 12.5621 12.9632 13.6667Z" fill="white"/>
              <path d="M19.9632 13.6667C19.9632 14.7712 21.8237 15 23.2965 15C24.7693 15 25.9632 14.1046 25.9632 13C25.9632 11.8954 24.7693 11 23.2965 11C21.8237 11 19.9632 12.5621 19.9632 13.6667Z" fill="white"/>
              <path d="M17.7741 20.8764C17.3749 21.4295 16.5514 21.4295 16.1523 20.8764L13.7771 17.5852C13.2998 16.9238 13.7723 16 14.5879 16H19.3384C20.154 16 20.6266 16.9238 20.1493 17.5852L17.7741 20.8764Z" fill="#E6AAD3"/>
              <path d="M0.639096 1.93591C0.416504 1.11366 1.2582 0.40739 2.0293 0.769382L11.4281 5.1816C12.0892 5.49198 12.2054 6.38339 11.6459 6.85287L4.96025 12.4628C4.40075 12.9323 3.54306 12.663 3.35221 11.958L0.639096 1.93591Z" fill="#1D1A05"/>
              <path d="M31.261 0.318123C32.0321 -0.0438686 32.8738 0.662398 32.6512 1.48464L29.9381 11.5068C29.7472 12.2118 28.8895 12.481 28.33 12.0115L21.6444 6.40161C21.0849 5.93213 21.2011 5.04072 21.8622 4.73035L31.261 0.318123Z" fill="#1D1A05"/>
  
          </g>
          <g style={displayStep(2)}>
            <ellipse
            fillRule="evenodd"
            clipRule="evenodd"
            cx="17.1327" cy="15.5" rx="14" ry="11.5" fill="#1D1A05"/>
            <path d="M17.9436 20.8764C17.5445 21.4295 16.721 21.4295 16.3218 20.8764L13.9466 17.5852C13.4693 16.9238 13.9419 16 14.7575 16H19.5079C20.3235 16 20.7961 16.9238 20.3188 17.5852L17.9436 20.8764Z" fill="#E6AAD3"/>
            <path d="M0.808652 1.93591C0.58606 1.11366 1.42776 0.40739 2.19886 0.769382L11.5976 5.1816C12.2588 5.49198 12.375 6.38339 11.8155 6.85287L5.12981 12.4628C4.57031 12.9323 3.71262 12.663 3.52177 11.958L0.808652 1.93591Z" fill="#1D1A05"/>
            <path d="M31.4305 0.318123C32.2016 -0.0438686 33.0433 0.662398 32.8207 1.48464L30.1076 11.5068C29.9168 12.2118 29.0591 12.481 28.4996 12.0115L21.8139 6.40161C21.2544 5.93213 21.3706 5.04072 22.0318 4.73035L31.4305 0.318123Z" fill="#1D1A05"/>
          </g>
          <g style={displayStep(3)}>
            <ellipse
            fillRule="evenodd"
            clipRule="evenodd"
            cx="16.9632" cy="15.5" rx="14" ry="11.5" fill="#1D1A05"/>
            <path d="M12.9632 13.6667C12.9632 14.7712 11.1026 15 9.62983 15C8.15707 15 6.96317 14.1046 6.96317 13C6.96317 11.8954 8.15707 11 9.62983 11C11.1026 11 12.9632 12.5621 12.9632 13.6667Z" fill="white"/>
            <path d="M19.9632 13.6667C19.9632 14.7712 21.8237 15 23.2965 15C24.7693 15 25.9632 14.1046 25.9632 13C25.9632 11.8954 24.7693 11 23.2965 11C21.8237 11 19.9632 12.5621 19.9632 13.6667Z" fill="white"/>
            <path d="M17.7741 20.8764C17.3749 21.4295 16.5514 21.4295 16.1523 20.8764L13.7771 17.5852C13.2998 16.9238 13.7723 16 14.5879 16H19.3384C20.154 16 20.6266 16.9238 20.1493 17.5852L17.7741 20.8764Z" fill="#E6AAD3"/>
            <path d="M0.639096 1.93591C0.416504 1.11366 1.2582 0.40739 2.0293 0.769382L11.4281 5.1816C12.0892 5.49198 12.2054 6.38339 11.6459 6.85287L4.96025 12.4628C4.40075 12.9323 3.54306 12.663 3.35221 11.958L0.639096 1.93591Z" fill="#1D1A05"/>
            <path d="M31.261 0.318123C32.0321 -0.0438686 32.8738 0.662398 32.6512 1.48464L29.9381 11.5068C29.7472 12.2118 28.8895 12.481 28.33 12.0115L21.6444 6.40161C21.0849 5.93213 21.2011 5.04072 21.8622 4.73035L31.261 0.318123Z" fill="#1D1A05"/>
          </g>
        </svg>
      </div>
    </div>
  );
};

export default Loading;
